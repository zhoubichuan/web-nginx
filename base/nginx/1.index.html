<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>基本用法 | Nginx学习笔记</title>
    <meta name="generator" content="VuePress 1.9.10">
    
    <meta name="description" content="个人总结的vuepress学习技术文档-语法">
    <meta name="keywords" content="vuepress,最新技术文档,vuepress语法,markdown语法">
    
    <link rel="preload" href="/web-nginx/assets/css/0.styles.b94351f4.css" as="style"><link rel="preload" href="/web-nginx/assets/js/app.8e240f0a.js" as="script"><link rel="preload" href="/web-nginx/assets/js/2.050db225.js" as="script"><link rel="preload" href="/web-nginx/assets/js/1.595a9062.js" as="script"><link rel="preload" href="/web-nginx/assets/js/19.cf66e802.js" as="script"><link rel="preload" href="/web-nginx/assets/js/20.c38eb1a6.js" as="script"><link rel="prefetch" href="/web-nginx/assets/js/10.afd780cb.js"><link rel="prefetch" href="/web-nginx/assets/js/11.09edb8d7.js"><link rel="prefetch" href="/web-nginx/assets/js/12.3b27ae08.js"><link rel="prefetch" href="/web-nginx/assets/js/13.2e594fad.js"><link rel="prefetch" href="/web-nginx/assets/js/14.ec84d776.js"><link rel="prefetch" href="/web-nginx/assets/js/15.5ea5a8c9.js"><link rel="prefetch" href="/web-nginx/assets/js/16.094ad2fa.js"><link rel="prefetch" href="/web-nginx/assets/js/17.24c17daa.js"><link rel="prefetch" href="/web-nginx/assets/js/18.e778f005.js"><link rel="prefetch" href="/web-nginx/assets/js/21.bc08b347.js"><link rel="prefetch" href="/web-nginx/assets/js/22.a813cc31.js"><link rel="prefetch" href="/web-nginx/assets/js/23.4b7d7a64.js"><link rel="prefetch" href="/web-nginx/assets/js/24.40d0bbdd.js"><link rel="prefetch" href="/web-nginx/assets/js/25.fafc9afc.js"><link rel="prefetch" href="/web-nginx/assets/js/26.0d6aaefa.js"><link rel="prefetch" href="/web-nginx/assets/js/27.d937dd0f.js"><link rel="prefetch" href="/web-nginx/assets/js/28.46fd41b3.js"><link rel="prefetch" href="/web-nginx/assets/js/29.7f04d5ce.js"><link rel="prefetch" href="/web-nginx/assets/js/3.54ac4c7b.js"><link rel="prefetch" href="/web-nginx/assets/js/30.f8ba1e60.js"><link rel="prefetch" href="/web-nginx/assets/js/31.3ef318af.js"><link rel="prefetch" href="/web-nginx/assets/js/32.563237c3.js"><link rel="prefetch" href="/web-nginx/assets/js/33.ec983e9f.js"><link rel="prefetch" href="/web-nginx/assets/js/34.63b61346.js"><link rel="prefetch" href="/web-nginx/assets/js/35.f056114d.js"><link rel="prefetch" href="/web-nginx/assets/js/36.64c0c114.js"><link rel="prefetch" href="/web-nginx/assets/js/37.8e6d1ce6.js"><link rel="prefetch" href="/web-nginx/assets/js/38.b755dcca.js"><link rel="prefetch" href="/web-nginx/assets/js/39.13b2ee9b.js"><link rel="prefetch" href="/web-nginx/assets/js/4.098a8f16.js"><link rel="prefetch" href="/web-nginx/assets/js/40.a6fff9c2.js"><link rel="prefetch" href="/web-nginx/assets/js/41.6bad4a77.js"><link rel="prefetch" href="/web-nginx/assets/js/42.e8f2c417.js"><link rel="prefetch" href="/web-nginx/assets/js/43.03204242.js"><link rel="prefetch" href="/web-nginx/assets/js/44.542ac916.js"><link rel="prefetch" href="/web-nginx/assets/js/45.ec447c51.js"><link rel="prefetch" href="/web-nginx/assets/js/46.7cb54be1.js"><link rel="prefetch" href="/web-nginx/assets/js/47.a2ddf1b1.js"><link rel="prefetch" href="/web-nginx/assets/js/48.22abf0fb.js"><link rel="prefetch" href="/web-nginx/assets/js/49.4ecade7c.js"><link rel="prefetch" href="/web-nginx/assets/js/5.7f632276.js"><link rel="prefetch" href="/web-nginx/assets/js/50.dd41358b.js"><link rel="prefetch" href="/web-nginx/assets/js/51.8d93ef54.js"><link rel="prefetch" href="/web-nginx/assets/js/6.f242b5b0.js"><link rel="prefetch" href="/web-nginx/assets/js/7.d4ed74d5.js"><link rel="prefetch" href="/web-nginx/assets/js/vendors~docsearch.c6fe7a33.js">
    <link rel="stylesheet" href="/web-nginx/assets/css/0.styles.b94351f4.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/web-nginx/" class="home-link router-link-active"><!----> <span class="site-name">Nginx学习笔记</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="基础知识" class="dropdown-title"><span class="title">基础知识</span> <span class="arrow down"></span></button> <button type="button" aria-label="基础知识" class="mobile-dropdown-title"><span class="title">基础知识</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/web-nginx/base/nginx/1.index.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  1.基本用法
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="高级知识" class="dropdown-title"><span class="title">高级知识</span> <span class="arrow down"></span></button> <button type="button" aria-label="高级知识" class="mobile-dropdown-title"><span class="title">高级知识</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/web-nginx/senior/use/1.index.html" class="nav-link">
  1.Nginx精讲
</a></li></ul></div></div> <a href="https://github.com/zhoubichuan/web-nginx" target="_blank" rel="noopener noreferrer" class="repo-link">
    查看源码
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="基础知识" class="dropdown-title"><span class="title">基础知识</span> <span class="arrow down"></span></button> <button type="button" aria-label="基础知识" class="mobile-dropdown-title"><span class="title">基础知识</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/web-nginx/base/nginx/1.index.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  1.基本用法
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="高级知识" class="dropdown-title"><span class="title">高级知识</span> <span class="arrow down"></span></button> <button type="button" aria-label="高级知识" class="mobile-dropdown-title"><span class="title">高级知识</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/web-nginx/senior/use/1.index.html" class="nav-link">
  1.Nginx精讲
</a></li></ul></div></div> <a href="https://github.com/zhoubichuan/web-nginx" target="_blank" rel="noopener noreferrer" class="repo-link">
    查看源码
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/web-nginx/base/nginx/1.index.html" aria-current="page" class="active sidebar-link">基本用法</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/web-nginx/base/nginx/1.index.html#_1-nginx-介绍" class="sidebar-link">1.nginx 介绍</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/web-nginx/base/nginx/1.index.html#_1-1-轻量" class="sidebar-link">1.1 轻量</a></li><li class="sidebar-sub-header"><a href="/web-nginx/base/nginx/1.index.html#_1-2-架构" class="sidebar-link">1.2 架构</a></li><li class="sidebar-sub-header"><a href="/web-nginx/base/nginx/1.index.html#_1-2-1-工作流程" class="sidebar-link">1.2.1 工作流程</a></li><li class="sidebar-sub-header"><a href="/web-nginx/base/nginx/1.index.html#_1-2-2-io-多路复用" class="sidebar-link">1.2.2 IO 多路复用</a></li><li class="sidebar-sub-header"><a href="/web-nginx/base/nginx/1.index.html#_1-2-3-cpu-亲和" class="sidebar-link">1.2.3 CPU 亲和</a></li><li class="sidebar-sub-header"><a href="/web-nginx/base/nginx/1.index.html#_1-2-4-sendfile" class="sidebar-link">1.2.4 sendfile</a></li></ul></li></ul></li><li><a href="/web-nginx/base/nginx/1.config.html" class="sidebar-link">一.安装 Nginx</a></li><li><a href="/web-nginx/base/nginx/2.static.html" class="sidebar-link">二.配置静态资源</a></li><li><a href="/web-nginx/base/nginx/3.cdn.html" class="sidebar-link">三.CDN</a></li><li><a href="/web-nginx/base/nginx/4.cache.html" class="sidebar-link">四.配置缓存</a></li><li><a href="/web-nginx/base/nginx/5.cors.html" class="sidebar-link">五.跨域</a></li><li><a href="/web-nginx/base/nginx/6.link.html" class="sidebar-link">六.防盗链</a></li><li><a href="/web-nginx/base/nginx/7.module.html" class="sidebar-link">七.代理服务</a></li><li><a href="/web-nginx/base/nginx/8.project.html" class="sidebar-link">八.负载均衡</a></li><li><a href="/web-nginx/base/nginx/9.utils.html" class="sidebar-link">九.缓存</a></li><li><a href="/web-nginx/base/nginx/10.ui.html" class="sidebar-link">十.日志</a></li><li><a href="/web-nginx/base/nginx/11.data.html" class="sidebar-link">目录说明</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="基本用法"><a href="#基本用法" class="header-anchor">#</a> 基本用法</h1> <h2 id="_1-nginx-介绍"><a href="#_1-nginx-介绍" class="header-anchor">#</a> 1.nginx 介绍</h2> <h3 id="_1-1-轻量"><a href="#_1-1-轻量" class="header-anchor">#</a> 1.1 轻量</h3> <ul><li>源代码只包含核心模块</li> <li>其他非核心功能都是通过模块实现，可以自由选择</li></ul> <h3 id="_1-2-架构"><a href="#_1-2-架构" class="header-anchor">#</a> 1.2 架构</h3> <ul><li>Nginx 采用的是多进程（单线程）和多路 IO 复用模型</li></ul> <h3 id="_1-2-1-工作流程"><a href="#_1-2-1-工作流程" class="header-anchor">#</a> 1.2.1 工作流程</h3> <p>1.Nginx 在启动后，会有一个<code>master</code> 进程和多个相互独立的<code>worker</code>进程。</p> <p>2.接收来自外界的信号，向各<code>worker</code>进程发送信号，每个进程都有可能来处理这个连接。</p> <p>3.master 进程能监控 worker 进程的运行状态，当 worker 进程退出后（异常情况下），会自动启动新的 worker 进程。</p> <p><img src="/web-nginx/assets/img/4.ba74f5c8.png" alt=""></p> <ul><li>worker 进程数，一般会设置成机器 cpu 核数。因为更多的 worker 数，只会导致进程相互竞争 cpu，从而带来不必要的上下文切换。</li> <li>使用多进程模式，不仅能提高并发率，而且进程之间相互独立，一个 worker 进程挂了不会影响到其他 worker 进程。</li></ul> <h3 id="_1-2-2-io-多路复用"><a href="#_1-2-2-io-多路复用" class="header-anchor">#</a> 1.2.2 IO 多路复用</h3> <ul><li><p>多个文件描述符的 IO 操作都能在一个线程里并发交替顺序完成，复用线程。</p> <p><img src="data:image/png;base64,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" alt=""></p></li></ul> <h3 id="_1-2-3-cpu-亲和"><a href="#_1-2-3-cpu-亲和" class="header-anchor">#</a> 1.2.3 CPU 亲和</h3> <ul><li>把 CPU 内核和 nginx 的工作进程绑定在一起，让每个 worker 进程固定在一个 CPU 上执行，从而减少 CPU 的切换并提高缓存命中率，提高 性能</li></ul> <h3 id="_1-2-4-sendfile"><a href="#_1-2-4-sendfile" class="header-anchor">#</a> 1.2.4 sendfile</h3> <ul><li>sendfile 零拷贝传输模式</li></ul> <p><img src="/web-nginx/assets/img/4.3.c4455530.png" alt=""></p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/zhoubichuan/web-nginx/edit/master/src/base/nginx/1.index.md" target="_blank" rel="noopener noreferrer">在github上编辑此页</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2024/9/4 13:55:42</span></div></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/web-nginx/base/nginx/1.config.html">
        一.安装 Nginx
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/web-nginx/assets/js/app.8e240f0a.js" defer></script><script src="/web-nginx/assets/js/2.050db225.js" defer></script><script src="/web-nginx/assets/js/1.595a9062.js" defer></script><script src="/web-nginx/assets/js/19.cf66e802.js" defer></script><script src="/web-nginx/assets/js/20.c38eb1a6.js" defer></script>
  </body>
</html>
