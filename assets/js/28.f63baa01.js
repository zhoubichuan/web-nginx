(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{403:function(t,_,s){"use strict";s.r(_);var a=s(7),r=Object(a.a)({},(function(){var t=this,_=t._self._c;return _("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[_("h1",{attrs:{id:"十-日志"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#十-日志"}},[t._v("#")]),t._v(" 十.日志")]),t._v(" "),_("h2",{attrs:{id:"_1-日志类型"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_1-日志类型"}},[t._v("#")]),t._v(" 1.日志类型")]),t._v(" "),_("ul",[_("li",[t._v("access.log 访问日志")]),t._v(" "),_("li",[t._v("error.log 错误日志")])]),t._v(" "),_("h2",{attrs:{id:"_2-log-format"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_2-log-format"}},[t._v("#")]),t._v(" 2.log_format")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("类型")]),t._v(" "),_("th",[t._v("用法")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("语法")]),t._v(" "),_("td",[t._v("log_format name [escape=default[json] string]")])]),t._v(" "),_("tr",[_("td",[t._v("默认")]),t._v(" "),_("td",[t._v("log_format combined ...")])]),t._v(" "),_("tr",[_("td",[t._v("Contenx")]),t._v(" "),_("td",[t._v("http")])])])]),t._v(" "),_("p",[t._v("案列")]),t._v(" "),_("div",{staticClass:"language-bash line-numbers-mode"},[_("pre",{pre:!0,attrs:{class:"language-bash"}},[_("code",[t._v(" log_format  main  "),_("span",{pre:!0,attrs:{class:"token string"}},[t._v("'$remote_addr - $remote_user [$time_local] \"$request\" '")]),t._v("\n                      "),_("span",{pre:!0,attrs:{class:"token string"}},[t._v("'$status $body_bytes_sent \"$http_referer\" '")]),t._v("\n                      "),_("span",{pre:!0,attrs:{class:"token string"}},[t._v('\'"$http_user_agent" "$http_x_forwarded_for"\'')]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n log_format  zfpx  "),_("span",{pre:!0,attrs:{class:"token string"}},[t._v("'$arg_name $http_referer sent_http_date\"'")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n access_log  /var/log/nginx/access.log  main"),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n "),_("span",{pre:!0,attrs:{class:"token number"}},[t._v("221.216")]),t._v(".143.110 - - "),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("09/Jun/2018:22:41:18 +0800"),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token string"}},[t._v('"GET / HTTP/1.1"')]),t._v(" "),_("span",{pre:!0,attrs:{class:"token number"}},[t._v("200")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token number"}},[t._v("612")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token string"}},[t._v('"-"')]),t._v(" "),_("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/62.0.3202.94 Safari/537.36"')]),t._v(" "),_("span",{pre:!0,attrs:{class:"token string"}},[t._v('"-"')]),t._v("\n")])]),t._v(" "),_("div",{staticClass:"line-numbers-wrapper"},[_("span",{staticClass:"line-number"},[t._v("1")]),_("br"),_("span",{staticClass:"line-number"},[t._v("2")]),_("br"),_("span",{staticClass:"line-number"},[t._v("3")]),_("br"),_("span",{staticClass:"line-number"},[t._v("4")]),_("br"),_("span",{staticClass:"line-number"},[t._v("5")]),_("br"),_("span",{staticClass:"line-number"},[t._v("6")]),_("br"),_("span",{staticClass:"line-number"},[t._v("7")]),_("br"),_("span",{staticClass:"line-number"},[t._v("8")]),_("br")])]),_("h2",{attrs:{id:"_3-http-请求变量"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_3-http-请求变量"}},[t._v("#")]),t._v(" 3.HTTP 请求变量")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("名称")]),t._v(" "),_("th",[t._v("含义")]),t._v(" "),_("th",[t._v("例子")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("arg_PARAMETER")]),t._v(" "),_("td",[t._v("请求参数")]),t._v(" "),_("td",[t._v("$arg_name")])]),t._v(" "),_("tr",[_("td",[t._v("http_HEADER")]),t._v(" "),_("td",[t._v("请求头")]),t._v(" "),_("td",[t._v("$http_referer")])]),t._v(" "),_("tr",[_("td",[t._v("sent_http_HEADER")]),t._v(" "),_("td",[t._v("响应头")]),t._v(" "),_("td",[t._v("sent_http_cookie")])])])]),t._v(" "),_("h2",{attrs:{id:"_4-内置变量"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_4-内置变量"}},[t._v("#")]),t._v(" 4.内置变量")]),t._v(" "),_("p",[_("a",{attrs:{href:"http://nginx.org/en/docs/http/ngx_http_log_module.html#log_format",target:"_blank",rel:"noopener noreferrer"}},[t._v("ngx_http_log_module log_format"),_("OutboundLink")],1)]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("名称")]),t._v(" "),_("th",[t._v("含义")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("$remote_addr")]),t._v(" "),_("td",[t._v("客户端地址")])]),t._v(" "),_("tr",[_("td",[t._v("$remote_user")]),t._v(" "),_("td",[t._v("客户端用户名称")])]),t._v(" "),_("tr",[_("td",[t._v("$time_local")]),t._v(" "),_("td",[t._v("访问时间和时区")])]),t._v(" "),_("tr",[_("td",[t._v("$request")]),t._v(" "),_("td",[t._v("请求的 URI 和 HTTP 协议")])]),t._v(" "),_("tr",[_("td",[t._v("$http_host")]),t._v(" "),_("td",[t._v("请求地址，即浏览器中你输入的地址（IP 或域名）")])]),t._v(" "),_("tr",[_("td",[t._v("$status")]),t._v(" "),_("td",[t._v("HTTP 请求状态")])]),t._v(" "),_("tr",[_("td",[t._v("$body_bytes_sent")]),t._v(" "),_("td",[t._v("发送给客户端文件内容大小")])])])])])}),[],!1,null,null,null);_.default=r.exports}}]);